<html>
	<head>
		<title>:: Node.js forum app test ::</title>
		<script src="http://127.0.0.1:8098/socket.io/socket.io.js" type="text/javascript" language="javascript"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
		<script type="text/javascript" language="javascript">
			var socket = null;
			var userName = null;
			
			function hndlAuthData(data)
			{
				if(data.isAvailable == false)
				{
					alert("NOMBRE DE USUARIO YA COGIDO. ELIGE OTRO");
					authenticate();     
				}
			}
			
			function authenticate()
			{
				while(userName == null)
				{
					userName = prompt('Inserta nombre de usuario');
				}
				socket.emit('authData', {"userName" : userName});
			}			
			
			try
			{
				socket = io.connect('http://127.0.0.1:8098');
				socket.on("authData", hndlAuthData);
				// socket.on("
				
				// socket.on('authData', hndlAuthData);
				// socket.on('userList', refreshUserList);
				// socket.on('msg', handleMessage);
			}
			catch(e)
			{
				alert(e);
			}						
			
		</script>
	</head>
	<body>
		
	</body>
</html>
